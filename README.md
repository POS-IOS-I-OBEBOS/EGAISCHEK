# EGAISCHEK

Телеграм-бот для проверки марок ЕГАИС через сервис [check1.fsrar.ru](https://check1.fsrar.ru/).

## Возможности

- При первом запуске запрашивает токен бота в отдельном окне и сохраняет его в конфигурационный файл.
- Принимает фотографию или скан марки от пользователя.
- Распознаёт код марки с помощью публичного сервиса ZXing.
- Получает с сайта ФСРАР капчу, пересылает её пользователю и ожидает ответ.
- Отправляет результат проверки обратно пользователю.

## Запуск

1. Установите зависимости:

   ```bash
   python -m venv .venv
   source .venv/bin/activate
   pip install -r requirements.txt
   ```

2. Запустите бота:

   ```bash
   python -m egaicheck.bot
   ```

   При первом запуске откроется окно для ввода токена. Значение сохранится в файле `~/.egaicheck/config.ini`, повторно вводить его не потребуется.

3. Логи работы сохраняются в файл `egaicheck.log` рядом с исполняемым скриптом. Его можно использовать для диагностики.

## Ограничения

- Для распознавания марки используется внешний сервис ZXing, поэтому нужна сетевая доступность.
- Сайт ФСРАР может изменять структуру формы. В этом случае потребуется адаптировать парсинг в `egaicheck/check_client.py`.

